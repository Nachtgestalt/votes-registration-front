<div class="row">
    <mat-form-field appearance="outline" class="col-12">
        <mat-label>Buscar compa√±ero</mat-label>
        <input [formControl]="searchControl" matInput placeholder="Busca por nombre o expediente">
        <mat-icon matSuffix>search</mat-icon>
    </mat-form-field>
</div>

<div class="row">
    <div class="loading-shade"
         *ngIf="isLoadingResults">
        <mat-spinner *ngIf="isLoadingResults"></mat-spinner>
    </div>
    <div class="col-md-4 col-lg-3 col-6 col-sm-6 mb-3" *ngFor="let person of searchResults$ | async">
        <mat-card>
            <mat-card-title>{{person.name}} {{person.last_name}}</mat-card-title>
            <mat-card-content class="mt-3">
                <p class="title">Expediente</p>
                <p class="subtitle">{{person.id_register}}</p>
                <p class="title">Puesto</p>
                <p class="subtitle">{{person.denomination_jod_description}} </p>
                <p class="title">Area de adscripcion</p>
                <p class="subtitle">{{person.dependency}}</p>
            </mat-card-content>
            <mat-card-actions class="d-flex justify-content-between">
                <button mat-flat-button color="primary"
                        (click)="register('otro', person)"
                        [disabled]="person.vote_labor_union !== null">
                    Otro
                    <mat-icon *ngIf="person.vote_labor_union === 0">done</mat-icon>
                </button>
                <button mat-flat-button color="accent"
                        (click)="register('MPLD', person)"
                        [disabled]="person.vote_labor_union !== null">
                    MPLD
                    <mat-icon *ngIf="person.vote_labor_union === 1">done</mat-icon>
                </button>
            </mat-card-actions>
        </mat-card>
    </div>
</div>
